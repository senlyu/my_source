generated by Gemini Cli

# my_source

`my_source` is a Python-based automation tool that fetches messages from Telegram channels, processes them using the Gemini AI, and then publishes the results to various destinations like Discord and Hexo blogs.

## Features

*   **Telegram Integration:** Listens to specified Telegram channels and archives messages.
*   **AI-Powered Content Processing:** Utilizes the Gemini language model to process and transform message content.
*   **Multi-Destination Publishing:**
    *   Sends messages to Discord channels via webhooks.
    *   Creates new posts for Hexo-based blogs.
*   **Flexible Scheduling:** Includes a scheduler for running tasks at specific times or intervals.
*   **Modular and Extensible:** The project is structured to easily add new data sources, AI models, or publishing destinations.

## How It Works

The application follows a simple pipeline:

1.  **Collect:** The `telegram.py` client connects to Telegram and listens for new messages on configured channels.
2.  **Process:** The collected messages are passed to the Gemini AI through `gemini.py`, using customizable prompts from the `src/ai_utils/prompts` directory.
3.  **Publish:** The AI-processed content is then sent to its destination. `discord.py` handles Discord webhooks, and `hexo.py` creates new markdown files for a Hexo blog.

## Getting Started

### Prerequisites

*   Python 3.13
*   `pipenv`

### Installation

1.  Clone the repository:
    ```bash
    git clone <your-repo-url> my_source
    cd my_source
    ```
2.  Install the dependencies using `pipenv`:
    ```bash
    pipenv install
    ```

### Configuration

The application requires API keys and other settings to be configured. While the configuration is handled by `src/util/config.py`, you'll need to provide the necessary secrets. It is recommended to use environment variables for sensitive data.

You will need:

*   **Telegram:** `app_id` and `app_hash`.
*   **Gemini:** API Key.
*   **Discord:** Webhook URL.
*   **Hexo:** Path to your Hexo project.

## Usage

To run the application, use the provided `start.sh` script:

```bash
./start.sh
```

This will start the main application, which will in turn start the scheduler and any configured listeners.

## Project Structure

```
/home/ubuntu/git/my_source/
├───.gitignore
├───my_source.code-workspace
├───Pipfile
├───Pipfile.lock
├───README.md
├───start.sh
├───.git/...
├───history/...
├───log/...
└───src/
    ├───__init__.py
    ├───main.py
    ├───ai_utils/       # Gemini AI integration and prompts
    ├───core/           # Core business logic and jobs
    ├───data_io/        # Data input (Telegram) and output (Discord, Hexo)
    ├───scheduler/      # Task scheduling
    └───util/           # Configuration, logging, and system utilities
```

## Key Dependencies

*   `telethon`: For interacting with the Telegram API.
*   `google-generativeai`: The official Google library for the Gemini API.
*   `requests`: For making HTTP requests (used for Discord webhooks).
*   `pytz`: For handling timezones.